<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>full mark subjects</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js"></script>
  <script type="module" src="devcheck.js"></script>
  <script src="auth.js"></script>
  <style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@200..900&display=swap'); 
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap');

:root {
  --dark-black: #020A07;
  --main-green-bg: #08402C;
  --darker-green-bg: #0C241C;
  --neon-accent: #27d97e;
  --light-text: #f0f0f5;
  --gray-text: #8e8e8e;
}

body {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 90px 15px 70px;
  font-family: 'Cairo', sans-serif;
  background: var(--dark-black);
  color: var(--light-text);
  margin: 0;
  overflow-x: hidden;
}

.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(8, 64, 44, 0.4); 
  backdrop-filter: blur(10px); 
  padding: 10px 15px;
  position: fixed;
  top: 0; right: 0; left: 0;
  z-index: 1000;
  border-bottom: 2px solid var(--neon-accent);
  box-shadow: 0 4px 15px rgba(39, 217, 126, 0.2);
}

.title {
  font-size: 16px;
  color: var(--neon-accent);
  font-family: 'Orbitron', sans-serif;
  font-weight: 700;
  letter-spacing: 2px;
}

.icons { display: flex; align-items: center; gap: 15px; }
.icons img { width: 28px; height: 28px; filter: invert(1) drop-shadow(0 0 6px var(--neon-accent)); cursor: pointer; }

h1 {
  color: var(--neon-accent);
  text-align: center;
  font-size: 3rem;
  margin-bottom: 50px;
  text-shadow: 0 0 15px rgba(39, 217, 126, 0.8);
  font-family: 'Orbitron', sans-serif;
  font-weight: 900;
}

ul {
  padding: 0 10px;
  list-style: none;
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(3, minmax(250px, 1fr));
  gap: 30px;
}

li {
  background: var(--main-green-bg);
  border-radius: 15px;
  padding: 30px 25px;
  cursor: pointer;
  border: 1px solid rgba(39, 217, 126, 0.2);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.7);
  transition: all 0.4s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 250px;
}

li:hover {
  background: var(--darker-green-bg);
  transform: translateY(-8px) scale(1.03);
  border-color: var(--neon-accent);
  box-shadow: 0 15px 40px rgba(39, 217, 126, 0.5);
}

.circle {
  width: 120px; height: 120px; border-radius: 50%;
  background: var(--darker-green-bg);
  margin-bottom: 25px;
  border: 4px solid var(--neon-accent);
  box-shadow: 0 0 15px var(--neon-accent);
  display: flex; justify-content: center; align-items: center;
}

.circle img { width: 80%; height: 80%; object-fit: contain; filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.7)); }

li span { font-weight: 700; font-size: 1.4rem; font-family: 'Tajawal', sans-serif; }

li.loading { grid-column: 1 / -1; text-align: center; color: var(--gray-text); font-size: 1.3rem; }
li.loading::after {
  content: ""; width: 35px; height: 35px; border: 4px solid var(--neon-accent);
  border-top: 4px solid transparent; border-radius: 50%; display: inline-block;
  margin-right: 15px; animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

.profile-float-btn {
  position: fixed; bottom: 30px; left: 30px; width: 60px; height: 60px;
  border-radius: 50%; background: var(--darker-green-bg); border: 3px solid var(--neon-accent);
  display: flex; justify-content: center; align-items: center; z-index: 1200;
}
.profile-float-btn img { width: 30px; height: 30px; filter: invert(1); }

@media (max-width: 480px) {
    ul { grid-template-columns: 1fr; }
    h1 { font-size: 1.8rem; }
}
  </style>
</head>
<body>

  <div class="topbar">
    <div class="title">By ELGIZAWY</div>
    <div class="icons">
      <div class="toggle-dark" id="darkToggle"></div>
      <a href="" target="_blank">
        <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="WhatsApp">
      </a>
      <img id="shareBtn" src="https://cdn-icons-png.flaticon.com/512/929/929610.png" alt="Share">
    </div>
  </div>

  <h1> SUBJECTS 2026 </h1>
  <ul id="subjects-list">
    <li class="loading">â³....ğ‘³ğ’ğ’‚ğ’…ğ’Šğ’ğ’ˆ</li>
  </ul>

  <a href="profile.html" class="profile-float-btn">
    <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="Ø¨Ø±ÙˆÙØ§ÙŠÙ„">
  </a>

<script>
// âœ… Toast Ø§Ø­ØªØ±Ø§ÙÙŠØ©
function showToast(message, type = "info") {
  const toast = document.createElement("div");
  toast.className = `custom-toast ${type}`;
  toast.innerHTML = `<span>${message}</span>`;
  const style = document.createElement("style");
  style.textContent = `
    .custom-toast { position: fixed; bottom: 20px; right: 20px; padding: 14px 22px; border-radius: 14px; font-family: "Cairo", sans-serif; color: #fff; z-index: 9999; border: 1px solid #27d97e; display:flex; align-items:center; animation: slideIn 0.5s ease; }
    .custom-toast.info { background: #08402C; }
    .custom-toast.success { background: #27d97e; }
    @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }
  `;
  document.head.appendChild(style);
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 3000);
}
</script>

<script type="module">
// ğŸŒ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙØ§ÙŠØ±Ø¨ÙŠØ² (Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø±ÙÙ‚)
const firebaseConfig = {
    apiKey: "AIzaSyBK6FZF3LW83qaUHBKYTfiVd2Ozrd1Rf2g",
    authDomain: "thanawy-1383.firebaseapp.com",
    databaseURL: "https://thanawy-1383-default-rtdb.firebaseio.com",
    projectId: "thanawy-1383",
};
if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
const db = firebase.database();

const subjectsList = document.getElementById('subjects-list');

const subjectImages = {
    "Ø£Ø­ÙŠØ§Ø¡": "1.jpg",
    "ÙÙŠØ²ÙŠØ§Ø¡": "2.jpg",
    "ÙƒÙŠÙ…ÙŠØ§Ø¡": "3.jpg",
    "Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©": "5.jpg",
    "English": "6.jpg",
    "Ø¬ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§": "https://www2.0zz0.com/2025/11/03/22/343667596.jpg",
    "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": "4.jpg",
    "ØªØ§Ø±ÙŠØ®": "99.jpg",
    "Ø¬ØºØ±Ø§ÙÙŠØ§": "9.jpg",
    "Ø§Ù„Ø¥Ø­ØµØ§Ø¡": "8.jpg",
    "Ø§Ø¯Ø¨ÙŠ": "https://www2.0zz0.com/2025/10/01/19/580067879.jpeg",
    "Le franÃ§ais": "data:image/jpeg;base64,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"

};
  
const JSON_URLS = {
    'Ø¹Ù„Ù…ÙŠ Ø¹Ù„ÙˆÙ…': "https://plus-teal.vercel.app/organized_output.json",
    'Ø£Ø¯Ø¨ÙŠ': "https://plus-teal.vercel.app/organized_output-a.json", 
    'Ø¹Ù„Ù…ÙŠ Ø±ÙŠØ§Ø¶Ø©': "https://platform-sigma-seven.vercel.app/organized_output-e.json", 
    'Ø£Ø²Ù‡Ø±': "https://plus-teal.vercel.app/organized_output.json", 
    'Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ': "https://plus-teal.vercel.app/organized_output.json"
};
  
async function getDataSourceURL() {
    const activeCode = localStorage.getItem('activeCode');
    if (!activeCode) return JSON_URLS['Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ'];

    try {
        const snapshot = await db.ref(`approvedStudents/${activeCode}`).once('value');
        const studentData = snapshot.val();
        if (studentData && studentData.section) {
            return JSON_URLS[studentData.section.trim()] || JSON_URLS['Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ'];
        }
        return JSON_URLS['Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ'];
    } catch (error) {
        console.error("Firebase Error:", error);
        return JSON_URLS['Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ'];
    }
}

async function loadSubjects() {
  try {
    // 1. ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„ÙŠÙ†Ùƒ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¹Ø¨Ø©
    const finalSourceURL = await getDataSourceURL();
    
    // 2. Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù„ÙŠÙ†Ùƒ Ø§Ù„Ù…Ø®ØªØ§Ø±
    const res = await fetch(finalSourceURL);
    if (!res.ok) throw new Error("Failed to fetch data");
    const data = await res.json();

    // 3. Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø³Ù†Ø© 3 ÙÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø®ØªØ§Ø±
    const year = data.find(y => y.id === 3 || y.id === "3" || y.name === "3");

    if (!year) {
      subjectsList.innerHTML = `<li class="loading">âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¯ Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</li>`;
      return;
    }

    subjectsList.innerHTML = "";

    // 4. Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆØ§Ø¯
    year.subjects.forEach(subject => {
      const li = document.createElement("li");
      const circle = document.createElement("div");
      circle.className = "circle";
      const img = document.createElement("img");
      img.src = subjectImages[subject.name] || "https://img.icons8.com/ios-filled/100/ffd700/book.png";
      circle.appendChild(img);

      const span = document.createElement("span");
      span.textContent = subject.name;

      li.append(circle, span);

      // Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ†
      li.onclick = () => {
        window.location.href = `teachers.html?yid=${year.id}&sid=${subject.id}`;
      };

      subjectsList.appendChild(li);
    });

    showToast("âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø¨Ù†Ø¬Ø§Ø­", "success");

  } catch (err) {
    console.error(err);
    subjectsList.innerHTML = `<li class="loading">âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</li>`;
  }
}

loadSubjects();
</script>

</body>
</html>
